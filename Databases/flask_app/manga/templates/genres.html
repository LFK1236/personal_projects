{% extends "basic_layout.html" %}
{% block content %}
<div class="content-section">
    {% include "header.html" %}
    <p>Genres:</p>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Genre</th>
                <th scope="col">Series</th>
            </tr>
        </thead>
        <tbody>
            {% for g in genres %}
            <tr>
                <td>{{g.genre}}</td>
                <td>{{g.series_count}}</td>
                <td>
                    <form action="/series/filter/genre:{{g[0]}}" method="post">
                        <input type="hidden" value="{{g[0]}}" name="genre_name">
                        <input type="submit" value="See series">
                    </form>
                    <form action="/edit" method="post">
                        <input type="hidden" value="Genres" name="table">
                        <input type="hidden" value="{{g[0]}}" name="data">
                        <input type="submit" value="Edit">
                    </form>
                    <form action="/genres/delete" method="post">
                        <input type="hidden" value="{{g[0]}}" name="genre_name">
                        <input type="submit" value="X">
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p>Add genre:</p>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Name</th>
            </tr>
        </thead>
        <tbody>
          <form action="/genres/add" method="post">
            <tr>
                <td><input type="text" name="genre_name" value="" class="wide"></td>
                <td><input type="submit" value="Add genre"></td>
            </tr>
        </form>
        </tbody>
    </table>
</div>
{% endblock content %}